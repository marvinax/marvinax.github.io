!function(e){e.fn.ruler=function(i){var s={vRuleSize:18,hRuleSize:18,showCrosshair:!0,showMousePos:!0},o=e.extend({},s,i),l='<div class="ruler hRule"></div>',p='<div class="ruler vRule"></div>',d='<div class="ruler corner"></div>',u='<div class="vMouse"></div>',t='<div class="hMouse"></div>',v='<div class="mousePosBox">x: 50%, y: 50%</div>';return Modernizr.touch||(o.showCrosshair&&e("body").append(u,t),o.showMousePos&&e("body").append(v),(o.showCrosshair||o.showMousePos)&&e(window).mousemove(function(i){o.showCrosshair&&(e(".vMouse").css("top",i.pageY-e(document).scrollTop()+1),e(".hMouse").css("left",i.pageX+1)),o.showMousePos&&e(".mousePosBox").html("x:"+(i.pageX-o.vRuleSize)+", y:"+(i.pageY-o.hRuleSize)).css({top:i.pageY-e(document).scrollTop()+16,left:i.pageX+12})})),e(window).resize(function(){var i=e(".hRule"),s=e(".vRule");i.empty(),s.empty().height(0).outerHeight(s.parent().outerHeight());for(var l=o.vRuleSize,p="";l<=i.width();)(l-o.vRuleSize)%50==0?(p="<div class='tickLabel'>"+(l-o.vRuleSize)+"</div>",e(p).css("left",l+"px").appendTo(i)):(l-o.vRuleSize)%10==0?(p="<div class='tickMajor'></div>",e(p).css("left",l+"px").appendTo(i)):(l-o.vRuleSize)%5==0&&(p="<div class='tickMinor'></div>",e(p).css("left",l+"px").appendTo(i)),l+=5;for(l=o.hRuleSize,p="";l<=s.height();)(l-o.hRuleSize)%50==0?(p="<div class='tickLabel'><span>"+(l-o.hRuleSize)+"</span></div>",e(p).css("top",l+"px").appendTo(s)):(l-o.hRuleSize)%10==0?(p="<div class='tickMajor'></div>",e(p).css("top",l+"px").appendTo(s)):(l-o.hRuleSize)%5==0&&(p="<div class='tickMinor'></div>",e(p).css("top",l+"px").appendTo(s)),l+=5}),this.each(function(){var i=e(this);if(i.css("padding-top",o.hRuleSize+1+"px"),o.hRuleSize>0&&e(l).height(o.hRuleSize).prependTo(i),o.vRuleSize>0){var s=i.outerWidth();i.css("padding-left",o.vRuleSize+1+"px").outerWidth(s),e(p).width(o.vRuleSize).height(i.outerHeight()).prependTo(i)}o.vRuleSize>0&&o.hRuleSize>0&&e(d).css({width:o.vRuleSize,height:o.hRuleSize}).prependTo(i);for(var u=i.children(".hRule"),t=i.children(".vRule"),v=o.vRuleSize,a="";v<=u.width();)(v-o.vRuleSize)%50==0?(a="<div class='tickLabel'>"+(v-o.vRuleSize)+"</div>",e(a).css("left",v+"px").appendTo(u)):(v-o.vRuleSize)%10==0?(a="<div class='tickMajor'></div>",e(a).css("left",v+"px").appendTo(u)):(v-o.vRuleSize)%5==0&&(a="<div class='tickMinor'></div>",e(a).css("left",v+"px").appendTo(u)),v+=5;for(v=o.hRuleSize,a="";v<=t.height();)(v-o.hRuleSize)%50==0?(a="<div class='tickLabel'><span>"+(v-o.hRuleSize)+"</span></div>",e(a).css("top",v+"px").appendTo(t)):(v-o.hRuleSize)%10==0?(a="<div class='tickMajor'></div>",e(a).css("top",v+"px").appendTo(t)):(v-o.hRuleSize)%5==0&&(a="<div class='tickMinor'></div>",e(a).css("top",v+"px").appendTo(t)),v+=5})}}(jQuery);